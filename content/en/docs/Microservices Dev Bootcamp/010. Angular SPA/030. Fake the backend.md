---
type: docs
title: "Fake the backend"
linkTitle: "Fake the backend"
weight: 30
description: >
  Fake it 'til you make it (then keep fakin' it).
---

TODO: Make the following prettier.

https://docs.microsoft.com/en-us/azure/static-web-apps/add-api?tabs=angular

Press F1 to open the Command Palette.

Select Azure Static Web Apps: Create HTTP Function.... If you're prompted to install the Azure Functions extension, install it and re-run this command.

When prompted, enter the following values:

| Prompt  | Value
|---|---
| Select a language | JavaScript
| Provide a function name | movies

{{% alert title="What, no love for C#?" color="primary" %}}
How come we're using JavaScript instead of, say, C#?

We'll get back to that later in bootcamp when we show how
your fake backend can leverage Express.js packages like
[json-server](https://github.com/typicode/json-server).
{{% /alert %}}

### /api/movies/index.js

~~~
module.exports = async function (context, req) {
    context.log('JavaScript HTTP trigger function processed a request.');

    const response = [
        {
          "id": "tt3778644",
          "title": "Solo: A Star Wars Story"
        },
        {
          "id": "tt3748528",
          "title": "Rogue One: A Star Wars Story"
        },
        {
          "id": "tt0120915",
          "title": "Star Wars: Episode I - The Phantom Menace"
        },
        {
          "id": "tt0121765",
          "title": "Star Wars: Episode II - Attack of the Clones"
        },
        {
          "id": "tt0121766",
          "title": "Star Wars: Episode III - Revenge of the Sith"
        },
        {
          "id": "tt0076759",
          "title": "Star Wars: Episode IV - A New Hope"
        },
        {
          "id": "tt2527338",
          "title": "Star Wars: Episode IX - The Rise of Skywalker"
        },
        {
          "id": "tt0080684",
          "title": "Star Wars: Episode V - The Empire Strikes Back"
        },
        {
          "id": "tt0086190",
          "title": "Star Wars: Episode VI - Return of the Jedi"
        },
        {
          "id": "tt2488496",
          "title": "Star Wars: Episode VII - The Force Awakens"
        },
        {
          "id": "tt2527336",
          "title": "Star Wars: Episode VIII - The Last Jedi"
        },
        {
          "id": "tt0193524",
          "title": "The Star Wars Holiday Special"
        }];
    const responseMessage = JSON.stringify(response);

    context.res = {
        // status: 200, /* Defaults to 200 */
        body: responseMessage,
        headers: {
            'Content-Type': 'application/json'
        }
    };

}
~~~

### index.html

~~~
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes">
    <title>Let's Hear from the Backend</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
</head>

<body>
    <main>
        <h1>Movies</h1>
        <table id="movies" border='1'>
            <thead>
                <tr>
                    <th>id</th>
                    <th>title</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </main>

    <script>
        (async function () {
            const movies = await (await fetch('/api/movies')).json();

            var trHTML = '';

            movies.forEach(movie => {
                trHTML += '<tr><td>' + movie.id + '</td><td>' + movie.title + '</td></tr>';
            });

            $('#movies').append(trHTML);
        }())
    </script>
</body>

</html>
~~~